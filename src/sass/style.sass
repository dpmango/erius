@import comp/current

// SPRITE
@import generated/_sprite-png


// PREVENT SCROLL for BODY
@media (min-width: 1001px)
  .body-locked
    height: 100%
    overflow: hidden
    position: fixed
    top: 0
    right: 0
    bottom: 0
    left: 0
    width: 100%

// ANIMATION
.animation
  position: fixed
  // mind header and footer
  top: 75px
  bottom: 55px
  left: 0
  right: 0
  z-index: 1
  display: flex
  flex-direction: column
  pointer-events: none
  transform: translate3d(0,0,0)
  backface-visibility: hidden
  &__holder
    position: relative
    flex: 1 1 auto
    display: flex
    flex-direction: column
    align-items: center
    div
      flex: 1 1 auto
      width: 960px
      height: 960px
      transform-origin: top center
      will-change: transform
      &:not(.should-use-sprite)
        background-repeat: no-repeat
        background-position: top center
        background-size: cover
      &.should-use-sprite
        background-image: url("../images/sprite.png");

  &.is-stopped
    position: absolute
    height: calc(100vh - 75px - 55px)
    // bottom: auto


@media (max-width: 1000px)
  .animation
    display: none

div[js-section]
  position: relative
  z-index: 2


// OVERWRITING
@media (min-width: 1001px)
  .img-block-1, .img-block-2, .img-block-3, .img-block-4, .img-block-5
    img
      opacity: 0 !important

  .row_flex


  .img-block-2 .vt-btn
    top: 80%
  
  .img-block-5 .vt-btn_v1
    left: 28%
  .img-block-5 .vt-btn_v2
    left: 0%
  
  .img-block-3 .vt-btn_v1
    top: 120%

@media (max-width: 1000px)
  .img-block-1, .img-block-2, .img-block-3, .img-block-4, .img-block-5
    img
      display: none
      &.img-mobile
        display: block

  .img-block-5
    max-width: 200px
  .img-block-5 .vt-btn_v1
    top: 85%
    left: 60%

  .img-block-5 .vt-btn_v2
    left: 2%

// PRELOADER
$color-4: #eead68
$color-3: #eec368
$color-2: #eece68
$color-1: #eed968
$color-5: #ee8c68

$color: $color-1, $color-2, $color-3, $color-4, $color-5

=anim
  @keyframes scale
    0%
      transform: scale(1)
    50%,
    75%
      transform: scale(2.5)
    78%, 100%
      opacity: 0

.preloader
  position: fixed
  top: 0
  left: 0
  right: 0
  bottom: 0
  z-index: 99
  display: flex
  justify-content: center
  align-items: center
  overflow: hidden
  animation-delay: 1s
  transition: opacity .4s ease-in
  &.is-loaded
    opacity: 0
    pointer-events: none

@media (max-width: 1000px)
  .preloader
    display: none

@for $i from 1 through 5
  .preloader-#{$i}
    width: 20px
    height: 20px
    background: #f583a1
    border-radius: 50%
    +anim
    background-color: nth($color, $i)
    margin: 7px
    display: flex
    justify-content: center
    align-items: center
    &:before
      content: ''
      width: 20px
      height: 20px
      border-radius: 50%
      background-color: nth($color, $i)
      opacity: 0.7
      animation: scale 2s infinite cubic-bezier(0, 0, 0.49, 1.02)
      animation-delay: 200ms * $i
      transition: 0.5s all ease
      transform: scale(1)
